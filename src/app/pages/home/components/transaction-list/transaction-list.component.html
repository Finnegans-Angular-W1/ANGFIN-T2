<div class="dropdown dropdown-right">
  <label tabindex="0" class="px-2 py-1 uppercase text-xl font-['Kanit'] font-normal text-[#9F0A48]
    flex rounded-md w-fit shadow-3xl my-2 sm:hover:scale-[1.03] transition duration-300">
    Filtro
  </label>
  <div tabindex="0" class="dropdown-content card card-normal w-96 h-auto shadow bg-[#9F0A48] text-primary-content">
    <div class="card-body">
      <h3 class="card-title  text-white">Filtrar</h3>
      <p class=" text-white">Filtrar por:</p>
      <div>
        <select name="selectorInicial" class="select select-bordered w-full max-w-xs" (change)="opcionElegida($event)">
          <option disabled selected>Elegir filtrado</option>
          <!--ption id="fechaOption" value="fechaOption">Fecha</option-->
          <option id="palabraOption" value="palabraOption">Palabra</option>
          <option id="operacionOption" value="operacionOption">Tipo de operación</option>
        </select>
      </div>
      <!--div id="fecha" *ngIf="filter == 'fechaOption'">
        <p class=" text-white">Elegir fecha: </p>
        <div class="grid grid-cols-2 content-start">
          <div><input type="date" id="fechaInicial" name="fecha" required="required" class="input input-bordered w-full max-w-xs"></div>
          <div><input type="date" id="fechaFinal" name="fecha" required="required" class="input input-bordered w-full max-w-xs"></div>
        </div>
      </div-->
      
      <div id="palabra" *ngIf="opcionFiltrado == 'palabraOption'">
        <p class="text-white">Filtrar por palabra</p>
        <input type="text" placeholder="Escribir palabra" class="input input-bordered w-full max-w-xs" (oninput)="filtradoPorPalabra($event)"/>
      </div>
      
      <div id="operacion" *ngIf="opcionFiltrado == 'operacionOption'">
        <p class="text-white" (change)="filtradoPorOperacion($event)">Filtrar por tipo de operación</p>
        <select class="select select-bordered w-full max-w-xs">
          <option disabled selected>Elegir opción</option>
          <option>Payment</option>
          <option>Topup</option>
        </select>
      </div>
      
      <div class="card-actions justify-end">
        <button class="btn bg-slate-600" (click)="filtrarTabla($event)">Filtrar</button>
      </div>
    </div>
  </div>
</div>

<div class="mb-5 px-0.5 py-0.5 bg-[#c2c9ce] shadow-xl rounded-lg">
  <table class="table-auto w-full border-separate text-sm md:text-lg">
    <thead class="text-neutral bg-[#749496] text-center">
      <tr  class="text-white font-semibold">
        <th class="hidden">ID</th>
        <th class="py-2 px-4">FECHA</th>
        <th class="py-2 px-4">CONCEPTO</th>
        <th class="py-2 px-4">TIPO</th>
        <th class="py-2 px-4">MONTO</th>
        <th class="py-2 px-4">EDITAR</th>
      </tr>
    </thead>
    <tbody class="text-neutral text-center">
      <tr *ngFor="let transaction of transaction; index as i">
        <td class="hidden">{{ transaction.id }}</td>
        <td [class.bg-gray-100]="i % 2 === 0">{{ transaction.date | date : 'dd/MM/yyyy HH:MM'}}</td>
        <td [class.bg-gray-100]="i % 2 === 0">{{ transaction.concept }}</td>
        <td [class.bg-gray-100]="i % 2 === 0">{{ transaction.type | titlecase}}</td>
        <td [class.bg-gray-100]="i % 2 === 0">{{ transaction.amount | currency }}</td>
        <td [class.bg-gray-100]="i % 2 === 0" class="btn-sm cursor-pointer sm:hover:bg-accent/25"
        (click)="openEditModal(transaction.id)">Editar</td>
      </tr>
    </tbody>
  </table>
</div>

<label for="my-modal-4" class="btn">open modal</label>
<!-- Put this part before </body> tag -->
<!-- <input type="checkbox" id="my-modal-4" class="modal-toggle" /> -->
<label [ngClass]="{'modal-open' : openEdit,  '' : !openEdit}" for="my-modal-4" class="modal cursor-pointer">
  <label class="modal-box relative" for="">
    <app-modal-gastos [id$]="getIdObservable()" (closeModal)="openEdit = !$event"></app-modal-gastos>
  </label>
</label>
